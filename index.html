<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>User Agent Detector</title>
  <style>
/* =========================
   RESET + TEMEL
========================= */
*,
*::before,
*::after{
  box-sizing:border-box;
  margin:0;
  padding:0;
}

html,body{
  width:100%;
  min-height:100%;
}

:root{
  --bg:#0b0f17;
  --panel:#111827;
  --panel-soft:#0f172a;
  --text:#e5e7eb;
  --muted:#94a3b8;
  --border:rgba(255,255,255,.08);
  --ok:#22c55e;
  --warn:#f59e0b;
  --info:#3b82f6;
  --mono: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  --sans: system-ui, -apple-system, Segoe UI, Roboto, Arial;
}

body{
  font-family:var(--sans);
  color:var(--text);
  background:
    radial-gradient(900px 600px at 20% 10%, rgba(59,130,246,.18), transparent 60%),
    radial-gradient(700px 500px at 70% 70%, rgba(34,197,94,.14), transparent 60%),
    var(--bg);
}

/* =========================
   LAYOUT
========================= */
.wrap{
  max-width:650px;
  margin:0 auto;
  padding:24px 16px 40px;
}

header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:16px;
}

h1{
  font-size:18px;
  display:flex;
  align-items:center;
  gap:10px;
}

.grid{
  display:grid;
  grid-template-columns:1fr;
  gap:14px;
}

@media (max-width:900px){
  .grid{grid-template-columns:1fr}
}

/* =========================
   CARD
========================= */
.card{
  overflow:hidden;
}

.card h2{
  font-size:13px;
  font-weight:600;
  color:var(--muted);
  padding:12px 14px;
  border-bottom:1px solid var(--border);
  background:rgba(255,255,255,.02);
}

/* =========================
   ROW
========================= */
.row{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
  padding:10px 12px;
  border:1px solid var(--border);
  border-radius:12px;
  background:rgba(255,255,255,.03);
  margin-bottom:10px;
}

.row:last-child{margin-bottom:0}

.left{
  display:flex;
  align-items:center;
  gap:10px;
  min-width:0;
}

.logo{
  width:42px;
  height:42px;
  border-radius:12px;
  border:1px solid var(--border);
  display:grid;
  place-items:center;
}

.titleblock{min-width:0}

.big{
  font-size:15px;
  font-weight:700;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.small{
  font-size:12px;
  color:var(--muted);
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.k{
  font-size:12px;
  color:var(--muted);
  margin-bottom:2px;
}

.v{
  font-family:var(--mono);
  font-size:13px;
  line-height:1.35;
  word-break:break-word;
}

/* =========================
   BADGE
========================= */
.badge{
  display:flex;
  align-items:center;
  gap:8px;
  font-size:12px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.03);
  white-space:nowrap;
}

.dot{
  width:8px;
  height:8px;
  border-radius:50%;
  background:var(--info);
}

.dot.ok{background:var(--ok)}
.dot.warn{background:var(--warn)}

/* =========================
   CHIPS
========================= */
.chips{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  margin-top:8px;
}

.chip{
  font-family:var(--mono);
  font-size:12px;
  padding:6px 10px;
  border-radius:999px;
  background:rgba(148,163,184,.14);
  border:1px solid rgba(148,163,184,.18);
}

/* =========================
   BUTTON
========================= */
.btn{
  font-size:13px;
  padding:8px 12px;
  border-radius:10px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.05);
  color:var(--text);
  cursor:pointer;
}

.btn:hover{
  background:rgba(255,255,255,.08);
}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>User Agent Detector</h1>
      <button class="btn" id="btnRefresh">Refresh</button>
    </header>

    <div class="grid">
      <section class="card">
        <div class="row">
          <div class="left">
            <div class="logo" id="browserLogo"></div>
            <div class="titleblock">
              <div class="k">Browser</div>
              <p class="big" id="browserName">—</p>
            </div>
          </div>
          <span class="badge"><span class="dot" id="chromiumDot"></span><span id="chromiumText">—</span></span>
        </div>

        <div class="row">
          <div style="flex:1">
            <div class="k">Version</div>
            <div class="v" id="browserVersion">—</div>
          </div>
          <div style="flex:1; text-align:right">
            <div class="k">Platform</div>
            <div class="v" id="platformInfo">—</div>
          </div>
        </div>

        <div class="row">
          <div style="flex:1">
            <div class="k">Language</div>
            <div class="v" id="deviceLang">—</div>
          </div>
          <div style="flex:1; text-align:right">
            <div class="k">Timezone</div>
            <div class="v" id="timeZone">—</div>
          </div>
        </div>

        <div class="row">
          <div style="flex:1">
            <div class="k">Resolution</div>
            <div class="v" id="screenRes">—</div>
          </div>
          <div style="flex:1; text-align:right">
            <div class="k">JavaScript</div>
            <div class="v" id="jsStatus">Enabled</div>
          </div>
        </div>

        <div class="row">
          <div style="width:100%">
            <div class="k">Client Hints</div>
            <div class="chips" id="brandChips"></div>
          </div>
        </div>

        <div class="row">
          <div style="width:100%">
            <div class="k">User-Agent</div>
            <div class="v" id="uaText">—</div>
          </div>
        </div>
      </section>
    </div>
  </div>

<script>
class BrowserDetector {
  #rules = [
    { name: 'Brave', family: 'Brave', re: /Brave\/([\d.]+)/, chromium: true },
    { name: 'Edge', family: 'Edge', re: /Edg\/([\d.]+)/, chromium: true },
    { name: 'Samsung Internet', family: 'Samsung Internet', re: /SamsungBrowser\/([\d.]+)/, chromium: true },
    { name: 'Opera', family: 'Opera', re: /OPR\/([\d.]+)/, chromium: true },
    { name: 'Vivaldi', family: 'Vivaldi', re: /Vivaldi\/([\d.]+)/, chromium: true },
    { name: 'Arc', family: 'Arc', re: /Arc\/([\d.]+)/, chromium: true },
    { name: 'Chrome', family: 'Chrome', re: /Chrome\/([\d.]+)/, chromium: true },
    { name: 'Firefox', family: 'Firefox', re: /Firefox\/([\d.]+)/, chromium: false },
    { name: 'Safari', family: 'Safari', re: /Version\/([\d.]+).*Safari/, chromium: false }
  ];

  constructor() {
    this.ua = navigator.userAgent;
    this.uaData = navigator.userAgentData;
  }

  get data() {
    const platform = this.uaData?.platform || navigator.platform || 'Unknown';
    const clientHints = this.#parseClientHints();
    const legacy = this.#parseUserAgent();
    
    const finalInfo = (clientHints && clientHints.name !== 'Chromium' && clientHints.name !== 'Google Chrome') 
      ? { ...clientHints, platform } 
      : { ...legacy, platform };

    return {
      ...finalInfo,
      lang: navigator.language,
      timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
      resolution: `${window.screen.width}x${window.screen.height}`,
      brands: this.#getCleanBrands()
    };
  }

  #getCleanBrands() {
    if (!this.uaData?.brands) return [];
    return this.uaData.brands
      .filter(b => !/not.a.brand/i.test(b.brand))
      .map(b => ({
        brand: b.brand.replace(/Google |brand/gi, '').trim(),
        version: b.version
      }));
  }

  #parseClientHints() {
    if (!this.uaData?.brands) return null;
    const brands = this.uaData.brands;
    
    if (brands.some(b => b.brand === 'Brave')) {
      const b = brands.find(b => b.brand === 'Brave');
      return { name: 'Brave', family: 'Brave', versionFull: b.version, versionMajor: b.version, isChromium: true, engine: 'Blink' };
    }

    const priority = ['Microsoft Edge', 'Opera', 'Vivaldi', 'Arc', 'Samsung Internet', 'Google Chrome', 'Chromium'];
    for (const name of priority) {
      const found = brands.find(b => b.brand === name);
      if (found) {
        const cleanName = found.brand.replace('Google ', '');
        return { name: cleanName, family: cleanName, versionFull: found.version, versionMajor: found.version, isChromium: true, engine: 'Blink' };
      }
    }
    return null;
  }

  #parseUserAgent() {
    for (const rule of this.#rules) {
      const match = this.ua.match(rule.re);
      if (match) {
        return { name: rule.name, family: rule.family, versionFull: match[1], versionMajor: match[1].split('.')[0], isChromium: rule.chromium, engine: rule.chromium ? 'Blink' : (rule.family === 'Firefox' ? 'Gecko' : 'WebKit') };
      }
    }
    return { name: 'Unknown', family: 'Unknown', versionFull: '', versionMajor: '', isChromium: false, engine: 'Unknown' };
  }

  getIconPath(name) {
    const key = name.toLowerCase().replace(/\s+/g, '');
    return `src/${key}.svg`;
  }
}

class BrowserUI {
  constructor(detector) {
    this.detector = detector;
    this.nodes = {
      logo: document.querySelector('#browserLogo'),
      name: document.querySelector('#browserName'),
      version: document.querySelector('#browserVersion'),
      platform: document.querySelector('#platformInfo'),
      ua: document.querySelector('#uaText'),
      chips: document.querySelector('#brandChips'),
      dot: document.querySelector('#chromiumDot'),
      status: document.querySelector('#chromiumText'),
      lang: document.querySelector('#deviceLang'),
      tz: document.querySelector('#timeZone'),
      res: document.querySelector('#screenRes'),
      refresh: document.querySelector('#btnRefresh')
    };
    this.init();
  }

  init() {
    this.nodes.refresh?.addEventListener('click', () => this.update());
    this.update();
  }

  update() {
    const info = this.detector.data;
    this.nodes.name.textContent = info.name;
    this.nodes.platform.textContent = info.platform;
    this.nodes.ua.textContent = this.detector.ua;
    this.nodes.version.textContent = info.versionFull;
    this.nodes.lang.textContent = info.lang;
    this.nodes.tz.textContent = info.timezone;
    this.nodes.res.textContent = info.resolution;
    
    this.nodes.logo.innerHTML = `<img src="${this.detector.getIconPath(info.name)}" alt="" width="24" height="24" onerror="this.src='src/globe.svg'">`;

    const isChromium = info.isChromium;
    this.nodes.dot.className = isChromium ? 'dot ok' : 'dot';
    this.nodes.status.textContent = isChromium ? 'Chromium' : info.engine;

    this.nodes.chips.innerHTML = info.brands.length 
      ? info.brands.map(b => `<span class="chip">${b.brand} ${b.version}</span>`).join('')
      : '<span class="chip">Unavailable</span>';
  }
}

new BrowserUI(new BrowserDetector());
</script>
</body>
</html>



