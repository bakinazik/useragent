<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>User Agent Detector</title>
  <meta name="description" content="A simple tool to find out your browser identity.">
  <link rel="icon" type="image/x-icon" href="favicon/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
  <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="192x192" href="favicon/android-chrome-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="favicon/android-chrome-512x512.png">

  <style>
/* =========================
   RESET + TEMEL
========================= */
*,
*::before,
*::after{
  box-sizing:border-box;
  margin:0;
  padding:0;
}

html,body{
  width:100%;
  min-height:100%;
}

:root{
  --bg:#0b0f17;
  --panel:#111827;
  --panel-soft:#0f172a;
  --text:#e5e7eb;
  --muted:#94a3b8;
  --border:rgba(255,255,255,.08);
  --ok:#22c55e;
  --warn:#f59e0b;
  --info:#3b82f6;
  --mono: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  --sans: system-ui, -apple-system, Segoe UI, Roboto, Arial;
}

body{
  font-family:var(--sans);
  color:var(--text);
  background:
    radial-gradient(1080px 720px at 20% 10%, rgba(59,130,246,.18), transparent 60%),
    radial-gradient(840px 600px at 70% 70%, rgba(34,197,94,.14), transparent 60%),
    var(--bg);
}

/* =========================
   LAYOUT
========================= */
.wrap{
  max-width:780px;
  margin:0 auto;
  padding:29px 19px 48px;
}

header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:19px;
}

h1{
  font-size:22px;
  display:flex;
  align-items:center;
  gap:12px;
}

.grid{
  display:grid;
  grid-template-columns:1fr;
  gap:17px;
}

@media (max-width:900px){
  .grid{grid-template-columns:1fr}
}

/* =========================
   CARD
========================= */
.card{
  overflow:hidden;
}

.card h2{
  font-size:16px;
  font-weight:600;
  color:var(--muted);
  padding:14px 17px;
  border-bottom:1px solid var(--border);
  background:rgba(255,255,255,.02);
}

/* =========================
   ROW
========================= */
.row{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:14px;
  padding:12px 14px;
  border:1px solid var(--border);
  border-radius:14px;
  background:rgba(255,255,255,.03);
  margin-bottom:12px;
}

.row:last-child{margin-bottom:0}

.left{
  display:flex;
  align-items:center;
  gap:12px;
  min-width:0;
}

.logo{
  width:50px;
  height:50px;
  border-radius:14px;
  border:1px solid var(--border);
  display:grid;
  place-items:center;
}

.logo img{
  max-width:29px;
}

.titleblock{min-width:0}

.big{
  font-size:18px;
  font-weight:700;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.small{
  font-size:14px;
  color:var(--muted);
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.k{
  font-size:14px;
  color:var(--muted);
  margin-bottom:3px;
}

.v{
  font-family:var(--mono);
  font-size:16px;
  line-height:1.4;
  word-break:break-word;
}

/* =========================
   BADGE
========================= */
.badge{
  display:flex;
  align-items:center;
  gap:10px;
  font-size:14px;
  padding:7px 12px;
  border-radius:999px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.03);
  white-space:nowrap;
}

.dot{
  width:10px;
  height:10px;
  border-radius:50%;
  background:var(--info);
}

.dot.ok{background:var(--ok)}
.dot.warn{background:var(--warn)}

/* =========================
   CHIPS
========================= */
.chips{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  margin-top:10px;
}

.chip{
  font-family:var(--mono);
  font-size:14px;
  padding:7px 12px;
  border-radius:999px;
  background:rgba(148,163,184,.14);
  border:1px solid rgba(148,163,184,.18);
}

/* =========================
   BUTTON
========================= */
.btn{
  font-size:16px;
  padding:10px 14px;
  border-radius:12px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.05);
  color:var(--text);
  cursor:pointer;
}

.btn:hover{
  background:rgba(255,255,255,.08);
}

.footer{
    margin-top: 10px;
}

a {
    color: var(--ok);
    text-decoration: none;
}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#5c9fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-world-code"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M20.942 13.02a9 9 0 1 0 -9.47 7.964" /><path d="M3.6 9h16.8" /><path d="M3.6 15h9.9" /><path d="M11.5 3a17 17 0 0 0 0 18" /><path d="M12.5 3c2 3.206 2.837 6.913 2.508 10.537" /><path d="M20 21l2 -2l-2 -2" /><path d="M17 17l-2 2l2 2" /></svg> User Agent Detector</h1>
      <button class="btn" id="btnRefresh">Refresh</button>
    </header>

    <div class="grid">
      <section class="card">
        <div class="row">
          <div class="left">
            <div class="logo" id="browserLogo"></div>
            <div class="titleblock">
              <div class="k">Browser</div>
              <p class="big" id="browserName">—</p>
            </div>
          </div>
          <span class="badge"><span class="dot" id="chromiumDot"></span><span id="chromiumText">—</span></span>
        </div>

        <div class="row">
          <div style="flex:1">
            <div class="k">Version</div>
            <div class="v" id="browserVersion">—</div>
          </div>
          <div style="flex:1; text-align:right">
            <div class="k">Platform</div>
            <div class="v" id="platformInfo">—</div>
          </div>
        </div>

        <div class="row">
          <div style="flex:1">
            <div class="k">Language</div>
            <div class="v" id="deviceLang">—</div>
          </div>
          <div style="flex:1; text-align:right">
            <div class="k">Timezone</div>
            <div class="v" id="timeZone">—</div>
          </div>
        </div>

        <div class="row">
          <div style="flex:1">
            <div class="k">Resolution</div>
            <div class="v" id="screenRes">—</div>
          </div>
          <div style="flex:1; text-align:right">
            <div class="k">JavaScript</div>
            <div class="v" id="jsStatus">Enabled</div>
          </div>
        </div>

        <div class="row">
          <div style="width:100%">
            <div class="k">Client Hints</div>
            <div class="chips" id="brandChips"></div>
          </div>
        </div>

        <div class="row">
          <div style="width:100%">
            <div class="k">User-Agent</div>
            <div class="v" id="uaText">—</div>
          </div>
        </div>
      </section>
      <p class="k footer">The displayed values are provided by the browser and may not always be accurate. If you encounter any issues or unexpected behavior, please open an issue on <a href="https://github.com/bakinazik/useragent/issues/new/choose">GitHub</a>.</p>
    </div>
  </div>

<script>
class BrowserDetector {
  #rules = [
    { name: 'Brave', id: 'brave', re: /Brave\/([\d.]+)/, chromium: true },
    { name: 'Edge', id: 'edge', re: /Edg\/([\d.]+)/, chromium: true },
    { name: 'Samsung Internet', id: 'samsung', re: /SamsungBrowser\/([\d.]+)/, chromium: true },
    { name: 'Opera', id: 'opera', re: /OPR\/([\d.]+)/, chromium: true },
    { name: 'Vivaldi', id: 'vivaldi', re: /Vivaldi\/([\d.]+)/, chromium: true },
    { name: 'Arc', id: 'arc', re: /Arc\/([\d.]+)/, chromium: true },
    { name: 'Yandex', id: 'yandex', re: /YaBrowser\/([\d.]+)/, chromium: true },
    { name: 'Wavebox', id: 'wavebox', re: /Wavebox\/([\d.]+)/, chromium: true },
    { name: 'DuckDuckGo', id: 'duckduckgo', re: /DuckDuckGo\/([\d.]+)/, chromium: false },
    { name: 'Chrome', id: 'chrome', re: /Chrome\/([\d.]+)/, chromium: true },
    { name: 'Chromium', id: 'chromium', re: /Chromium\/([\d.]+)/, chromium: true },
    { name: 'Firefox', id: 'firefox', re: /Firefox\/([\d.]+)/, chromium: false },
    { name: 'Safari', id: 'safari', re: /Version\/([\d.]+).*Safari/, chromium: false }
  ];

  constructor() {
    this.ua = navigator.userAgent;
    this.uaData = navigator.userAgentData;
  }

  get data() {
    const platform = this.uaData?.platform || navigator.platform || 'Unknown';
    const clientHints = this.#parseClientHints();
    const legacy = this.#parseUserAgent();
    
    // Brave/Edge gibi Chromium maskeli tarayıcılarda Client Hint önceliği
    const finalInfo = (clientHints && !['Chromium', 'Google Chrome'].includes(clientHints.name)) 
      ? { ...clientHints, platform } 
      : { ...legacy, platform };

    return {
      ...finalInfo,
      lang: navigator.language,
      timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
      resolution: `${window.screen.width}x${window.screen.height}`,
      brands: this.#getCleanBrands()
    };
  }

  #getCleanBrands() {
    if (!this.uaData?.brands) return [];
    return this.uaData.brands
      .filter(b => !/not.a.brand/i.test(b.brand))
      .map(b => ({
        brand: b.brand.replace(/Google |brand/gi, '').trim(),
        version: b.version
      }));
  }

  #parseClientHints() {
    if (!this.uaData?.brands) return null;
    const brands = this.uaData.brands;
    
    // Brave Check
    if (brands.some(b => b.brand === 'Brave')) {
      const b = brands.find(b => b.brand === 'Brave');
      return { name: 'Brave', id: 'brave', versionFull: b.version, isChromium: true, engine: 'Blink' };
    }

    const priority = [
      { b: 'Microsoft Edge', id: 'edge', n: 'Edge' },
      { b: 'Opera', id: 'opera', n: 'Opera' },
      { b: 'Vivaldi', id: 'vivaldi', n: 'Vivaldi' },
      { b: 'Yandex', id: 'yandex', n: 'Yandex' },
      { b: 'Wavebox', id: 'wavebox', n: 'Wavebox' },
      { b: 'Google Chrome', id: 'chrome', n: 'Chrome' },
      { b: 'Chromium', id: 'chromium', n: 'Chromium' }
    ];

    for (const item of priority) {
      const found = brands.find(b => b.brand === item.b);
      if (found) {
        return { name: item.n, id: item.id, versionFull: found.version, isChromium: true, engine: 'Blink' };
      }
    }
    return null;
  }

  #parseUserAgent() {
    for (const rule of this.#rules) {
      const match = this.ua.match(rule.re);
      if (match) {
        return { 
          name: rule.name, 
          id: rule.id, 
          versionFull: match[1], 
          isChromium: rule.chromium, 
          engine: rule.chromium ? 'Blink' : (rule.id === 'firefox' ? 'Gecko' : 'WebKit') 
        };
      }
    }
    return { name: 'Unknown', id: 'globe', versionFull: '', isChromium: false, engine: 'Unknown' };
  }
}

class BrowserUI {
  constructor(detector) {
    this.detector = detector;
    this.nodes = {
      logo: document.querySelector('#browserLogo'),
      name: document.querySelector('#browserName'),
      version: document.querySelector('#browserVersion'),
      platform: document.querySelector('#platformInfo'),
      ua: document.querySelector('#uaText'),
      chips: document.querySelector('#brandChips'),
      dot: document.querySelector('#chromiumDot'),
      status: document.querySelector('#chromiumText'),
      lang: document.querySelector('#deviceLang'),
      tz: document.querySelector('#timeZone'),
      res: document.querySelector('#screenRes'),
      refresh: document.querySelector('#btnRefresh')
    };
    this.init();
  }

  init() {
    this.nodes.refresh?.addEventListener('click', () => this.update());
    this.update();
  }

  update() {
    const info = this.detector.data;
    this.nodes.name.textContent = info.name;
    this.nodes.platform.textContent = info.platform;
    this.nodes.ua.textContent = this.detector.ua;
    this.nodes.version.textContent = info.versionFull;
    this.nodes.lang.textContent = info.lang;
    this.nodes.tz.textContent = info.timezone;
    this.nodes.res.textContent = info.resolution;
    
    // SVG Path matching
    this.nodes.logo.innerHTML = `<img src="src/${info.id}.svg" alt="" onerror="this.src='src/globe.svg'">`;

    const isChromium = info.isChromium;
    this.nodes.dot.className = isChromium ? 'dot ok' : 'dot';
    this.nodes.status.textContent = isChromium ? 'Chromium' : info.engine;

    this.nodes.chips.innerHTML = info.brands.length 
      ? info.brands.map(b => `<span class="chip">${b.brand} ${b.version}</span>`).join('')
      : '<span class="chip">Unavailable</span>';
  }
}

new BrowserUI(new BrowserDetector());
</script>
</body>
</html>

